var agile={init:function(){$(".agile-list").length&&(agile.columns(),agile.update(),agile.scroll())},scroll:function(){$(".agile-list").height($(window).height()-290),$(".kanban-board-scroll").width($(".agile").length*$(".agile-column .row").width()+100),$("body").css("overflow-y","hidden")},columns:function(){$.each($(".agile-list"),function(){$(this).closest(".agile").find("h5").css("border-top","2px solid #"+$(this).data("color")),$(this).find(".small-issue-closed").hide(),$(this).data("closed")&&$(this).find(".small-issue-closed").show()})},update:function(){$(".agile-column").sortable({connectWith:".connectColumn",tolerance:"pointer",placeholder:"ui-state-highlight-column",forcePlaceholderSize:!0,handle:".handle",stop:function(){var i=[];$.each($(".agile-column .agile"),function(t,e){i.push($(e).data("value"))}),$.post($(this).data("endpoint"),{columns:i})}}).disableSelection(),$(".agile-list").sortable({connectWith:".connectList",tolerance:"intersect",placeholder:"ui-state-highlight-list",start:function(i,t){t.placeholder.height(t.item.height())},stop:function(){$.each($(".agile-list"),function(i,t){$(t).closest(".agile").find("h5").find("span").text($(t).find("li").length),$(t).sortable("toArray").length&&$.post($(t).data("endpoint"),{status_id:$(t).data("value"),json:window.JSON.stringify($(t).sortable("toArray"))})}),agile.columns(),agile.scroll()}}).disableSelection()}};
var attachment={init:function(){$(".btn-file-attachment").on("change",function(){$("#file-attachment").html($(this).val()),$("#btn-file-attachment-upload").removeClass("hidden")})}};
$(function(){$('[data-toggle="modal"]').on("click",function(t){t.preventDefault(),$(".ui.modal.default-modal").modal("setting","transition","horizontal flip").modal("show")}),$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$(".menu .item").tab(),$(".progress").progress()}),$(document).ready(function(){$(".ui.search").search({type:"category",minCharacters:3,apiSettings:{onResponse:function(t){var o={results:{}};return $.each(t.items,function(t,n){var e=n.language||"Unknown",a=8;return!(t>=a)&&(void 0===o.results[e]&&(o.results[e]={name:e,results:[]}),void o.results[e].results.push({title:n.name,description:n.description,url:n.html_url}))}),o},url:"http://api.github.com/search/repositories?q={query}"}}),$(".ui.menu .ui.dropdown").dropdown({on:"hover"}),$(".ui.menu a.item").on("click",function(){$(this).addClass("active").siblings().removeClass("active")}),$(".open__sidebar_notes").on("click",function(){$(".ui.sidebar").sidebar("toggle")})});var main={init:function(){main.modalRemoveData(),main.modalSwal(),main.activateTab(),main.loading()},activateTab:function(){""!==location.hash&&$('a[href="'+location.hash+'"]').tab("show"),$('a[data-toggle="tab"]').on("shown",function(t){return location.hash=$(t.target).attr("href").substr(1)})},modalRemoveData:function(){$("body").on("hidden.bs.modal",".modal",function(){$(this).removeData("bs.modal")})},modalSwal:function(){$(".form-delete button").on("click",function(t){t.preventDefault();var o=$(this);swal({title:"Are you sure about this?",text:"You will not be able to recover this information!",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, proceed",cancelButtonText:"No, cancel it",closeOnConfirm:!0},function(t){t&&o.closest("form").submit()})})},loading:function(){var t=$("<div>",{class:"loader"});$(".btn-loader").on("click",function(){$(".loader-area").append(t)})}};
var note={init:function(){$(".agile-list").sortable()}};